// Clean up the surface memory manually
if (surface_exists(surf)) 
    surface_free(surf);